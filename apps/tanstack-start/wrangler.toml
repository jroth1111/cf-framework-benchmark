name = "cf-bench-tanstack-start"
compatibility_date = "2025-12-19"
compatibility_flags = ["nodejs_compat"]

# Wrap the TanStack Start entrypoint to inject benchmark cache headers.
main = "./worker/index.ts"

[assets]
directory = "./dist/client"
binding = "ASSETS"
html_handling = "drop-trailing-slash"

[build]
# Exclude TanStack Start virtual modules from bundling
external = ["tanstack-start-injected-head-scripts:v", "tanstack-start-manifest:v"]
